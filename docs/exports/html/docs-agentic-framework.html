<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <base href="file:///Users/morlock/fun/psscript/" />
  <title>docs-agentic-framework</title>
  <style>
:root {
  color-scheme: light;
}
body {
  font-family: "Segoe UI", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
  padding: 0;
  background: #ffffff;
  color: #0f172a;
}
.markdown-body {
  max-width: 980px;
  margin: 40px auto 60px;
  padding: 0 32px;
  line-height: 1.65;
}
.markdown-body h1 {
  font-size: 32px;
  margin-bottom: 12px;
  border-bottom: 2px solid #e2e8f0;
  padding-bottom: 12px;
  page-break-before: always;
  page-break-after: avoid;
  break-before: page;
  break-after: avoid;
}
.markdown-body h1:first-of-type {
  page-break-before: avoid;
  break-before: avoid;
}
.markdown-body h2 {
  font-size: 24px;
  margin-top: 28px;
  border-bottom: 1px solid #e2e8f0;
  padding-bottom: 8px;
  page-break-before: always;
  page-break-after: avoid;
  break-before: page;
  break-after: avoid;
}
.markdown-body h3 {
  font-size: 18px;
  margin-top: 20px;
  page-break-after: avoid;
  break-after: avoid;
}
.markdown-body h4, .markdown-body h5, .markdown-body h6 {
  page-break-after: avoid;
  break-after: avoid;
}
.markdown-body table {
  width: 100%;
  border-collapse: collapse;
  margin: 16px 0;
  font-size: 14px;
  page-break-inside: avoid;
  break-inside: avoid;
}
.markdown-body th,
.markdown-body td {
  border: 1px solid #e2e8f0;
  padding: 8px 10px;
  text-align: left;
}
.markdown-body th {
  background: #f8fafc;
}
.markdown-body tr {
  page-break-inside: avoid;
  break-inside: avoid;
}
.markdown-body code {
  background: #f1f5f9;
  padding: 2px 4px;
  border-radius: 4px;
  font-family: "SFMono-Regular", Menlo, Consolas, monospace;
  font-size: 0.92em;
}
.markdown-body pre {
  background: #0f172a;
  color: #e2e8f0;
  padding: 16px;
  border-radius: 8px;
  overflow-x: auto;
  page-break-inside: avoid;
  break-inside: avoid;
}
.markdown-body pre code {
  background: transparent;
  color: inherit;
}
.markdown-body blockquote {
  border-left: 4px solid #38bdf8;
  margin: 16px 0;
  padding: 8px 16px;
  background: #f8fafc;
  color: #334155;
}
.markdown-body img {
  max-width: 100%;
  height: auto;
  display: block;
  margin: 16px 0;
  border-radius: 10px;
  box-shadow: 0 8px 20px rgba(15, 23, 42, 0.12);
  page-break-inside: avoid;
  break-inside: avoid;
}
.markdown-body figure {
  page-break-inside: avoid;
  break-inside: avoid;
  margin: 16px 0;
}
.markdown-body a {
  color: #2563eb;
  text-decoration: none;
}
.markdown-body a:hover {
  text-decoration: underline;
}
.cover {
  padding: 80px 60px 60px;
  background: linear-gradient(135deg, #0b1220 0%, #1e3a8a 100%);
  color: #f8fafc;
  border-radius: 18px;
  margin-bottom: 32px;
}
.cover-title {
  font-size: 36px;
  font-weight: 700;
  margin: 0 0 12px;
}
.cover-subtitle {
  font-size: 18px;
  color: #cbd5f5;
  margin: 0 0 16px;
}
.cover-meta {
  font-size: 13px;
  color: #94a3b8;
}
.page-break {
  page-break-after: always;
  break-after: page;
}
.footer {
  margin-top: 40px;
  font-size: 12px;
  color: #64748b;
}
/* Print and PDF-specific styles */
@page {
  margin: 20mm 18mm;
}
@media print {
  .markdown-body {
    orphans: 3;
    widows: 3;
  }
  .markdown-body p {
    orphans: 3;
    widows: 3;
  }
  .markdown-body li {
    page-break-inside: avoid;
    break-inside: avoid;
  }
  .markdown-body ul, .markdown-body ol {
    page-break-before: avoid;
    break-before: avoid;
  }
  .markdown-body blockquote {
    page-break-inside: avoid;
    break-inside: avoid;
  }
  /* Keep section content together */
  .markdown-body h2 + *, .markdown-body h3 + * {
    page-break-before: avoid;
    break-before: avoid;
  }
}
</style>
</head>
<body>
  <div class="markdown-body">
    
    <h1 id="agentic-framework-implementation">Agentic Framework Implementation</h1>
<p>This document outlines the implementation of the agentic framework in the PSScript platform, which uses the OpenAI Assistants API to provide a more powerful and persistent AI experience.</p>
<h2 id="overview">Overview</h2>
<p>The PSScript platform has been enhanced with an agentic framework that leverages the OpenAI Assistants API. This implementation follows the principles outlined in the <a href="https://platform.openai.com/docs/assistants/deep-dive">OpenAI Assistants API documentation</a>.</p>
<p>Key features of this implementation:</p>
<ol>
<li><strong>Persistent Conversations</strong>: The system maintains conversation state across user interactions using session IDs.</li>
<li><strong>Specialized Agents</strong>: The framework supports different agent types, with the default being the OpenAI Assistants API.</li>
<li><strong>Enhanced Context</strong>: The agents can maintain context over long conversations, improving the quality of responses.</li>
</ol>
<h2 id="architecture">Architecture</h2>
<p>The agentic framework is implemented across several components:</p>
<h3 id="backend-nodejsexpress">Backend (Node.js/Express)</h3>
<ul>
<li><strong>ChatController</strong>: Handles incoming chat requests and forwards them to the AI service.</li>
<li>Added support for <code>agent_type</code> and <code>session_id</code> parameters to specify which agent to use and maintain conversation state.</li>
</ul>
<h3 id="ai-service-python">AI Service (Python)</h3>
<ul>
<li><strong>OpenAI Assistant Agent</strong>: Implements the OpenAI Assistants API integration.</li>
<li><strong>Agent Coordinator</strong>: Manages different agent types and routes requests to the appropriate agent.</li>
<li><strong>Main API</strong>: Exposes endpoints for chat, analysis, and other AI functions.</li>
</ul>
<h3 id="frontend-react">Frontend (React)</h3>
<ul>
<li><strong>useChat Hook</strong>: Custom hook that manages chat state and communication with the backend.</li>
<li><strong>SimpleChatWithAI</strong>: Component that provides the chat interface.</li>
<li>Added support for maintaining session state across conversations.</li>
</ul>
<h2 id="implementation-details">Implementation Details</h2>
<h3 id="openai-assistant-agent">OpenAI Assistant Agent</h3>
<p>The <code>OpenAIAssistantAgent</code> class in <code>src/ai/agents/openai_assistant_agent.py</code> implements the OpenAI Assistants API integration. Key features:</p>
<ul>
<li><strong>Thread Management</strong>: Creates and manages threads for persistent conversations.</li>
<li><strong>Assistant Configuration</strong>: Configures the assistant with appropriate instructions and tools.</li>
<li><strong>Message Processing</strong>: Handles sending messages to the assistant and processing responses.</li>
</ul>
<h3 id="chat-controller">Chat Controller</h3>
<p>The <code>ChatController</code> in <code>src/backend/src/controllers/ChatController.ts</code> has been updated to:</p>
<ul>
<li>Accept <code>agent_type</code> and <code>session_id</code> parameters.</li>
<li>Forward these parameters to the AI service.</li>
<li>Return the <code>session_id</code> in the response for persistent conversations.</li>
</ul>
<h3 id="frontend-integration">Frontend Integration</h3>
<p>The frontend has been updated to:</p>
<ul>
<li>Store and manage the <code>sessionId</code> in the <code>useChat</code> hook.</li>
<li>Pass the <code>sessionId</code> to the backend when sending messages.</li>
<li>Update the <code>sessionId</code> when receiving a response with a new session ID.</li>
</ul>
<h2 id="usage">Usage</h2>
<p>To use the agentic framework:</p>
<ol>
<li>The frontend sends a message to the backend with an optional <code>agent_type</code> parameter (defaults to "assistant").</li>
<li>The backend forwards the request to the AI service with the specified agent type.</li>
<li>The AI service routes the request to the appropriate agent.</li>
<li>The agent processes the message and returns a response.</li>
<li>The response includes a <code>session_id</code> that can be used for future messages to maintain conversation state.</li>
</ol>
<h2 id="configuration">Configuration</h2>
<p>The agentic framework can be configured through environment variables:</p>
<ul>
<li><code>OPENAI_API_KEY</code>: API key for OpenAI services.</li>
<li><code>OPENAI_ASSISTANT_ID</code>: ID of a pre-created assistant to use (optional).</li>
</ul>
<h2 id="future-enhancements">Future Enhancements</h2>
<p>Planned enhancements to the agentic framework include:</p>
<ol>
<li><strong>Tool Integration</strong>: Adding support for custom tools that the assistant can use.</li>
<li><strong>Multi-Agent Collaboration</strong>: Enabling multiple agents to collaborate on complex tasks.</li>
<li><strong>Enhanced Memory</strong>: Implementing more sophisticated memory mechanisms for longer context.</li>
<li><strong>Task Planning</strong>: Adding support for breaking down complex tasks into smaller steps.</li>
<li><strong>State Visualization</strong>: Providing visualizations of the agent's internal state.</li>
</ol>
<h2 id="references">References</h2>
<ul>
<li><a href="https://platform.openai.com/docs/assistants/deep-dive">OpenAI Assistants API Documentation</a></li>
<li><a href="https://platform.openai.com/docs/guides/function-calling">OpenAI Function Calling</a></li>
<li><a href="https://platform.openai.com/docs/api-reference/threads">OpenAI Thread Management</a></li>
</ul>
    <div class="footer">Generated 2026-01-13 06:26 UTC</div>
  </div>
</body>
</html>